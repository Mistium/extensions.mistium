/**!
 * Mist's Utils
 * @author Mistium (mistium.com)
 * @version 5.9
 * @copyright MIT & LGPLv3 License
 * Do not remove this comment
 */
!function(t){"use strict";if(!t.extensions.unsandboxed)throw new Error("mistsutils needs to be run unsandboxed.");const{vm:s,BlockType:e,ArgumentType:n}=t,{runtime:i}=s,u=s.exports.i_will_not_ask_for_help_when_these_break(),{JSGenerator:c,IRGenerator:r,ScriptTreeGenerator:a}=u,{TYPE_NUMBER:d,TYPE_STRING:l,TYPE_BOOLEAN:o,TYPE_UNKNOWN:p,TYPE_NUMBER_NAN:m,TypedInput:h,ConstantInput:k,VariableInput:B,Frame:I,sanitize:f}=c.unstable_exports,A=c.prototype,R=(r.prototype,a.prototype);k.prototype.asRaw=function(){return this.constantValue},h.prototype.asRaw=function(){return this.asUnknown()},h.prototype.asSafe=function(){return this.asUnknown()},B.prototype.asRaw=function(){return this.asSafe()};t.ArgumentType,t.BlockType;const O="mistsutils_patches",b=(t,s)=>{if(!t[O]){t[O]={};for(const e in s){const n=t[e];t[O][e]=t[e],t[e]=n?function(...t){return s[e].call(this,((...t)=>n.call(this,...t)),...t)}:function(...t){return s[e].call(this,(()=>{}),...t)}}}};b(A,{descendStackedBlock(t,s,...e){let n=s.block;switch(s.kind){case"mistsutils.notequals":const i=this.descendInput(s.A).asString(),u=this.descendInput(s.B).asString();return void(this.source+=`vm.runtime.visualReport("${n.id}", (${i} !== ${u}))\n`);case"mistsutils.equals":const c=this.descendInput(s.A).asString(),r=this.descendInput(s.B).asString();return void(this.source+=`vm.runtime.visualReport("${n.id}", (${c} === ${r}))\n`);case"mistsutils.clamp":const a=this.descendInput(s.A).asNumber(),d=this.descendInput(s.B).asNumber(),l=this.descendInput(s.C).asNumber();return void(this.source+=`vm.runtime.visualReport("${n.id}", Math.min(Math.max(${a}, ${d}), ${l}))\n`);case"mistsutils.min":const o=this.descendInput(s.A).asNumber(),p=this.descendInput(s.B).asNumber();return void(this.source+=`vm.runtime.visualReport("${n.id}", Math.min(${o}, ${p}))\n`);case"mistsutils.max":const m=this.descendInput(s.A).asNumber(),h=this.descendInput(s.B).asNumber();return void(this.source+=`vm.runtime.visualReport("${n.id}", Math.max(${m}, ${h}))\n`);case"mistsutils.ifthen":const k=this.descendInput(s.A).asBoolean(),B=this.descendInput(s.B).asString(),I=this.descendInput(s.C).asString();return void(this.source+=`vm.runtime.visualReport("${n.id}", (${k} ? ${B} : ${I}))\n`);case"mistsutils.letters":const f=this.descendInput(s.A).asNumber(),A=this.descendInput(s.B).asNumber(),R=this.descendInput(s.C).asString();return void(this.source+=`vm.runtime.visualReport("${n.id}", (${R}).substring(Math.max(0,${f}-1), Math.min(${A}, ${R}.length)))\n`);case"mistsutils.starts":const O=this.descendInput(s.A).asString(),b=this.descendInput(s.B).asString();return void(this.source+=`vm.runtime.visualReport("${n.id}", ${O}.startsWith(${b}))\n`);case"mistsutils.ends":const g=this.descendInput(s.A).asString(),$=this.descendInput(s.B).asString();return void(this.source+=`vm.runtime.visualReport("${n.id}", ${g}.endsWith(${$}))\n`);case"mistsutils.replace":const y=this.descendInput(s.A).asString(),w=this.descendInput(s.B).asString(),S=this.descendInput(s.C).asString();return void(this.source+=`vm.runtime.visualReport("${n.id}", ${y}.replace(${S},${w}))\n`);case"mistsutils.replaceall":const T=this.descendInput(s.A).asString(),N=this.descendInput(s.B).asString(),v=this.descendInput(s.C).asString();return void(this.source+=`vm.runtime.visualReport("${n.id}", ${T}.replaceAll(${v},${N}))\n`);case"mistsutils.splitarray":const _=this.descendInput(s.A).asString(),E=this.descendInput(s.B).asString();return void(this.source+=`vm.runtime.visualReport("${n.id}", (${_}).split(${E}))\n`);case"mistsutils.length":const C=this.descendInput(s.A).asRaw();return void(this.source+=`vm.runtime.visualReport("${n.id}", ((${C}).length))\n`);case"mistsutils.item":const x=this.descendInput(s.A).asRaw(),V=this.descendInput(s.B).asString(),M=this.descendInput(s.C).asNumber();return void(this.source+=`vm.runtime.visualReport("${n.id}", (${x}).split(${V})[${M}])\n`);case"mistsutils.squarebrackets":const G=this.descendInput(s.A).asRaw(),P=this.descendInput(s.B).asString();return void(this.source+=`vm.runtime.visualReport("${n.id}", (${G})[${P}])\n`);case"mistsutils.jsonparse":const q=this.descendInput(s.A).asString();return void(this.source+=`vm.runtime.visualReport("${n.id}", JSON.parse(${q}))\n`);case"mistsutils.jsonstringify":const U=this.descendInput(s.A).asRaw();return void(this.source+=`vm.runtime.visualReport("${n.id}", JSON.stringify(${U}))\n`);case"mistsutils.tostring":const j=this.descendInput(s.A).asString();return void(this.source+=`vm.runtime.visualReport("${n.id}", ${j})\n`);case"mistsutils.patchreporter":const L=this.descendInput(s.A).asRaw();return void(this.source+=`vm.runtime.visualReport("${n.id}", ${L})\n`);case"mistsutils.patchreporter2":const D=this.descendInput(s.A).asRaw(),W=this.descendInput(s.B).asRaw();return void(this.source+=`vm.runtime.visualReport("${n.id}", ${D}${W})\n`);case"mistsutils.patchreporter3":const J=this.descendInput(s.A).asRaw(),Y=this.descendInput(s.B).asRaw(),H=this.descendInput(s.C).asRaw();return void(this.source+=`vm.runtime.visualReport("${n.id}", ${J}${Y}${H})\n`);case"mistsutils.patchboolean":const X=this.descendInput(s.A).asRaw();return void(this.source+=`vm.runtime.visualReport("${n.id}", ${X})\n`);case"mistsutils.patchcommand":const z=this.descendInput(s.A).asRaw();return void(this.source+=`${z}\n`);case"mistsutils.patchcommand2":const F=this.descendInput(s.A).asRaw(),K=this.descendInput(s.B).asRaw();return void(this.source+=`${F}${K}\n`);case"mistsutils.patchcommand3":const Q=this.descendInput(s.A).asRaw(),Z=this.descendInput(s.B).asRaw(),tt=this.descendInput(s.C).asRaw();return void(this.source+=`${Q}${Z}${tt}\n`);case"mistsutils.true":return void(this.source+=`vm.runtime.visualReport("${n.id}", true)\n`);case"mistsutils.false":return void(this.source+=`vm.runtime.visualReport("${n.id}", false)\n`);case"mistsutils.performancenow":return void(this.source+=`vm.runtime.visualReport("${n.id}", performance.now())\n`);case"mistsutils.stagewidth":return void(this.source+=`vm.runtime.visualReport("${n.id}", Scratch.vm.runtime.stageWidth)\n`);case"mistsutils.stageheight":return void(this.source+=`vm.runtime.visualReport("${n.id}", Scratch.vm.runtime.stageHeight)\n`);case"mistsutils.newline":return void(this.source+=`vm.runtime.visualReport("${n.id}", "\\n")\n`);default:return t(s,...e)}},descendInput(t,s,...e){switch(s.kind){case"mistsutils.notequals":const n=this.descendInput(s.A).asString(),i=this.descendInput(s.B).asString();return new h(`(${n} !== ${i})`,o);case"mistsutils.equals":const u=this.descendInput(s.A).asString(),c=this.descendInput(s.B).asString();return new h(`(${u} === ${c})`,o);case"mistsutils.clamp":const r=this.descendInput(s.A).asNumber(),a=this.descendInput(s.B).asNumber(),m=this.descendInput(s.C).asNumber();return new h(`Math.min(Math.max(${r}, ${a}), ${m})`,d);case"mistsutils.min":const k=this.descendInput(s.A).asNumber(),B=this.descendInput(s.B).asNumber();return new h(`Math.min(${k}, ${B})`,d);case"mistsutils.max":const I=this.descendInput(s.A).asNumber(),f=this.descendInput(s.B).asNumber();return new h(`Math.max(${I}, ${f})`,d);case"mistsutils.ifthen":const A=this.descendInput(s.A).asBoolean(),R=this.descendInput(s.B).asString(),O=this.descendInput(s.C).asString();return new h(`(${A} ? ${R} : ${O})`,l);case"mistsutils.letters":const b=this.descendInput(s.A).asNumber(),g=this.descendInput(s.B).asNumber(),$=this.descendInput(s.C).asString();return new h(`(${$}).substring(Math.max(0,${b}-1), Math.min(${g}, ${$}.length))`,l);case"mistsutils.starts":const y=this.descendInput(s.A).asString(),w=this.descendInput(s.B).asString();return new h(`${y}.startsWith(${w})`,o);case"mistsutils.ends":const S=this.descendInput(s.A).asString(),T=this.descendInput(s.B).asString();return new h(`${S}.endsWith(${T})`,o);case"mistsutils.replace":const N=this.descendInput(s.A).asString(),v=this.descendInput(s.B).asString(),_=this.descendInput(s.C).asString();return new h(`${N}.replace(${_},${v})`,l);case"mistsutils.replaceall":const E=this.descendInput(s.A).asString(),C=this.descendInput(s.B).asString(),x=this.descendInput(s.C).asString();return new h(`${E}.replaceAll(${x},${C})`,l);case"mistsutils.splitarray":const V=this.descendInput(s.A).asString(),M=this.descendInput(s.B).asString();return new h(`(${V}).split(${M})`,p);case"mistsutils.length":const G=this.descendInput(s.A).asRaw();return new h(`((${G}).length)`,d);case"mistsutils.item":const P=this.descendInput(s.A).asRaw(),q=this.descendInput(s.B).asString(),U=this.descendInput(s.C).asNumber();return new h(`(${P}).split(${q})[${U}]`,l);case"mistsutils.squarebrackets":const j=this.descendInput(s.A).asRaw(),L=this.descendInput(s.B).asString();return new h(`(${j})[${L}]`,l);case"mistsutils.jsonparse":const D=this.descendInput(s.A).asString();return new h(`JSON.parse(${D})`,l);case"mistsutils.jsonstringify":const W=this.descendInput(s.A).asRaw();return new h(`JSON.stringify(${W})`,l);case"mistsutils.tostring":const J=this.descendInput(s.A).asString();return new h(`${J}`,l);case"mistsutils.patchreporter":const Y=this.descendInput(s.A).asRaw();return new h(`${Y}`,l);case"mistsutils.patchreporter2":const H=this.descendInput(s.A).asRaw(),X=this.descendInput(s.B).asRaw();return new h(`${H}${X}`,l);case"mistsutils.patchreporter3":const z=this.descendInput(s.A).asRaw(),F=this.descendInput(s.B).asRaw(),K=this.descendInput(s.C).asRaw();return new h(`${z}${F}${K}`,l);case"mistsutils.patchboolean":const Q=this.descendInput(s.A).asRaw();return new h(`${Q}`,o);case"mistsutils.patchcommand":const Z=this.descendInput(s.A).asRaw();return new h(`${Z}`,p);case"mistsutils.patchcommand2":const tt=this.descendInput(s.A).asRaw(),st=this.descendInput(s.B).asRaw();return new h(`${tt}${st}`,p);case"mistsutils.patchcommand3":const et=this.descendInput(s.A).asRaw(),nt=this.descendInput(s.B).asRaw(),it=this.descendInput(s.C).asRaw();return new h(`${et}${nt}${it}`,p);case"mistsutils.true":return new h("true",o);case"mistsutils.false":return new h("false",o);case"mistsutils.performancenow":return new h("performance.now()",d);case"mistsutils.stagewidth":return new h("Scratch.vm.runtime.stageWidth",d);case"mistsutils.stageheight":return new h("Scratch.vm.runtime.stageHeight",d);case"mistsutils.newline":return new h('"\\n"',l);default:return t(s,...e)}}}),b(R,{descendStackedBlock(t,s,...e){switch(s.opcode){case"mistsutils_notequals":return{block:s,kind:"mistsutils.notequals",A:this.descendInputOfBlock(s,"A"),B:this.descendInputOfBlock(s,"B")};case"mistsutils_equals":return{block:s,kind:"mistsutils.equals",A:this.descendInputOfBlock(s,"A"),B:this.descendInputOfBlock(s,"B")};case"mistsutils_clamp":return{block:s,kind:"mistsutils.clamp",A:this.descendInputOfBlock(s,"A"),B:this.descendInputOfBlock(s,"B"),C:this.descendInputOfBlock(s,"C")};case"mistsutils_min":return{block:s,kind:"mistsutils.min",A:this.descendInputOfBlock(s,"A"),B:this.descendInputOfBlock(s,"B")};case"mistsutils_max":return{block:s,kind:"mistsutils.max",A:this.descendInputOfBlock(s,"A"),B:this.descendInputOfBlock(s,"B")};case"mistsutils_ifthen":return{block:s,kind:"mistsutils.ifthen",A:this.descendInputOfBlock(s,"A"),B:this.descendInputOfBlock(s,"B"),C:this.descendInputOfBlock(s,"C")};case"mistsutils_letters":return{block:s,kind:"mistsutils.letters",A:this.descendInputOfBlock(s,"A"),B:this.descendInputOfBlock(s,"B"),C:this.descendInputOfBlock(s,"C")};case"mistsutils_starts":return{block:s,kind:"mistsutils.starts",A:this.descendInputOfBlock(s,"A"),B:this.descendInputOfBlock(s,"B")};case"mistsutils_ends":return{block:s,kind:"mistsutils.ends",A:this.descendInputOfBlock(s,"A"),B:this.descendInputOfBlock(s,"B")};case"mistsutils_replace":return{block:s,kind:"mistsutils.replace",A:this.descendInputOfBlock(s,"A"),B:this.descendInputOfBlock(s,"B"),C:this.descendInputOfBlock(s,"C")};case"mistsutils_replaceall":return{block:s,kind:"mistsutils.replaceall",A:this.descendInputOfBlock(s,"A"),B:this.descendInputOfBlock(s,"B"),C:this.descendInputOfBlock(s,"C")};case"mistsutils_splitarray":return{block:s,kind:"mistsutils.splitarray",A:this.descendInputOfBlock(s,"A"),B:this.descendInputOfBlock(s,"B")};case"mistsutils_length":return{block:s,kind:"mistsutils.length",A:this.descendInputOfBlock(s,"A")};case"mistsutils_item":return{block:s,kind:"mistsutils.item",A:this.descendInputOfBlock(s,"A"),B:this.descendInputOfBlock(s,"B"),C:this.descendInputOfBlock(s,"C")};case"mistsutils_squarebrackets":return{block:s,kind:"mistsutils.squarebrackets",A:this.descendInputOfBlock(s,"A"),B:this.descendInputOfBlock(s,"B")};case"mistsutils_jsonparse":return{block:s,kind:"mistsutils.jsonparse",A:this.descendInputOfBlock(s,"A")};case"mistsutils_jsonstringify":return{block:s,kind:"mistsutils.jsonstringify",A:this.descendInputOfBlock(s,"A")};case"mistsutils_tostring":return{block:s,kind:"mistsutils.tostring",A:this.descendInputOfBlock(s,"A")};case"mistsutils_patchreporter":return{block:s,kind:"mistsutils.patchreporter",A:this.descendInputOfBlock(s,"A")};case"mistsutils_patchreporter2":return{block:s,kind:"mistsutils.patchreporter2",A:this.descendInputOfBlock(s,"A"),B:this.descendInputOfBlock(s,"B")};case"mistsutils_patchreporter3":return{block:s,kind:"mistsutils.patchreporter3",A:this.descendInputOfBlock(s,"A"),B:this.descendInputOfBlock(s,"B"),C:this.descendInputOfBlock(s,"C")};case"mistsutils_patchboolean":return{block:s,kind:"mistsutils.patchboolean",A:this.descendInputOfBlock(s,"A")};case"mistsutils_patchcommand":return{block:s,kind:"mistsutils.patchcommand",A:this.descendInputOfBlock(s,"A")};case"mistsutils_patchcommand2":return{block:s,kind:"mistsutils.patchcommand2",A:this.descendInputOfBlock(s,"A"),B:this.descendInputOfBlock(s,"B")};case"mistsutils_patchcommand3":return{block:s,kind:"mistsutils.patchcommand3",A:this.descendInputOfBlock(s,"A"),B:this.descendInputOfBlock(s,"B"),C:this.descendInputOfBlock(s,"C")};case"mistsutils_true":return{block:s,kind:"mistsutils.true"};case"mistsutils_false":return{block:s,kind:"mistsutils.false"};case"mistsutils_performancenow":return{block:s,kind:"mistsutils.performancenow"};case"mistsutils_stagewidth":return{block:s,kind:"mistsutils.stagewidth"};case"mistsutils_stageheight":return{block:s,kind:"mistsutils.stageheight"};case"mistsutils_newline":return{block:s,kind:"mistsutils.newline"};default:return t(s,...e)}},descendInput(t,s,...e){switch(s.opcode){case"mistsutils_notequals":return{block:s,kind:"mistsutils.notequals",A:this.descendInputOfBlock(s,"A"),B:this.descendInputOfBlock(s,"B")};case"mistsutils_equals":return{block:s,kind:"mistsutils.equals",A:this.descendInputOfBlock(s,"A"),B:this.descendInputOfBlock(s,"B")};case"mistsutils_clamp":return{block:s,kind:"mistsutils.clamp",A:this.descendInputOfBlock(s,"A"),B:this.descendInputOfBlock(s,"B"),C:this.descendInputOfBlock(s,"C")};case"mistsutils_min":return{block:s,kind:"mistsutils.min",A:this.descendInputOfBlock(s,"A"),B:this.descendInputOfBlock(s,"B")};case"mistsutils_max":return{block:s,kind:"mistsutils.max",A:this.descendInputOfBlock(s,"A"),B:this.descendInputOfBlock(s,"B")};case"mistsutils_ifthen":return{block:s,kind:"mistsutils.ifthen",A:this.descendInputOfBlock(s,"A"),B:this.descendInputOfBlock(s,"B"),C:this.descendInputOfBlock(s,"C")};case"mistsutils_letters":return{block:s,kind:"mistsutils.letters",A:this.descendInputOfBlock(s,"A"),B:this.descendInputOfBlock(s,"B"),C:this.descendInputOfBlock(s,"C")};case"mistsutils_starts":return{block:s,kind:"mistsutils.starts",A:this.descendInputOfBlock(s,"A"),B:this.descendInputOfBlock(s,"B")};case"mistsutils_ends":return{block:s,kind:"mistsutils.ends",A:this.descendInputOfBlock(s,"A"),B:this.descendInputOfBlock(s,"B")};case"mistsutils_replace":return{block:s,kind:"mistsutils.replace",A:this.descendInputOfBlock(s,"A"),B:this.descendInputOfBlock(s,"B"),C:this.descendInputOfBlock(s,"C")};case"mistsutils_replaceall":return{block:s,kind:"mistsutils.replaceall",A:this.descendInputOfBlock(s,"A"),B:this.descendInputOfBlock(s,"B"),C:this.descendInputOfBlock(s,"C")};case"mistsutils_splitarray":return{block:s,kind:"mistsutils.splitarray",A:this.descendInputOfBlock(s,"A"),B:this.descendInputOfBlock(s,"B")};case"mistsutils_length":return{block:s,kind:"mistsutils.length",A:this.descendInputOfBlock(s,"A")};case"mistsutils_item":return{block:s,kind:"mistsutils.item",A:this.descendInputOfBlock(s,"A"),B:this.descendInputOfBlock(s,"B"),C:this.descendInputOfBlock(s,"C")};case"mistsutils_squarebrackets":return{block:s,kind:"mistsutils.squarebrackets",A:this.descendInputOfBlock(s,"A"),B:this.descendInputOfBlock(s,"B")};case"mistsutils_jsonparse":return{block:s,kind:"mistsutils.jsonparse",A:this.descendInputOfBlock(s,"A")};case"mistsutils_jsonstringify":return{block:s,kind:"mistsutils.jsonstringify",A:this.descendInputOfBlock(s,"A")};case"mistsutils_tostring":return{block:s,kind:"mistsutils.tostring",A:this.descendInputOfBlock(s,"A")};case"mistsutils_patchreporter":return{block:s,kind:"mistsutils.patchreporter",A:this.descendInputOfBlock(s,"A")};case"mistsutils_patchreporter2":return{block:s,kind:"mistsutils.patchreporter2",A:this.descendInputOfBlock(s,"A"),B:this.descendInputOfBlock(s,"B")};case"mistsutils_patchreporter3":return{block:s,kind:"mistsutils.patchreporter3",A:this.descendInputOfBlock(s,"A"),B:this.descendInputOfBlock(s,"B"),C:this.descendInputOfBlock(s,"C")};case"mistsutils_patchboolean":return{block:s,kind:"mistsutils.patchboolean",A:this.descendInputOfBlock(s,"A")};case"mistsutils_patchcommand":return{block:s,kind:"mistsutils.patchcommand",A:this.descendInputOfBlock(s,"A")};case"mistsutils_patchcommand2":return{block:s,kind:"mistsutils.patchcommand2",A:this.descendInputOfBlock(s,"A"),B:this.descendInputOfBlock(s,"B")};case"mistsutils_patchcommand3":return{block:s,kind:"mistsutils.patchcommand3",A:this.descendInputOfBlock(s,"A"),B:this.descendInputOfBlock(s,"B"),C:this.descendInputOfBlock(s,"C")};case"mistsutils_true":return{block:s,kind:"mistsutils.true"};case"mistsutils_false":return{block:s,kind:"mistsutils.false"};case"mistsutils_performancenow":return{block:s,kind:"mistsutils.performancenow"};case"mistsutils_stagewidth":return{block:s,kind:"mistsutils.stagewidth"};case"mistsutils_stageheight":return{block:s,kind:"mistsutils.stageheight"};case"mistsutils_newline":return{block:s,kind:"mistsutils.newline"};default:return t(s,...e)}}});t.extensions.register(new class{getInfo(){const s=t.BlockType,e=t.ArgumentType;return{id:"mistsutils",name:"Mists Utils",color1:"#2DA4A0",version:5.9,blocks:[{opcode:"notequals",text:"[A] !== [B]",blockType:s.BOOLEAN,arguments:{A:{type:e.STRING,defaultValue:"apple"},B:{type:e.STRING,defaultValue:"apple"}},func:"err"},{opcode:"equals",text:"[A] === [B]",blockType:s.BOOLEAN,arguments:{A:{type:e.STRING,defaultValue:"apple"},B:{type:e.STRING,defaultValue:"apple"}},func:"err"},{opcode:"clamp",text:"clamp [A] between [B] and [C]",blockType:s.REPORTER,arguments:{A:{type:e.NUMBER,defaultValue:100},B:{type:e.NUMBER,defaultValue:1},C:{type:e.NUMBER,defaultValue:50}},func:"err"},{opcode:"min",text:"min of [A] and [B]",blockType:s.REPORTER,arguments:{A:{type:e.NUMBER,defaultValue:100},B:{type:e.NUMBER,defaultValue:50}},func:"err"},{opcode:"max",text:"max of [A] and [B]",blockType:s.REPORTER,arguments:{A:{type:e.NUMBER,defaultValue:100},B:{type:e.NUMBER,defaultValue:50}},func:"err"},{opcode:"ifthen",text:"if [A] then [B] else [C]",blockType:s.REPORTER,arguments:{A:{type:e.BOOLEAN,defaultValue:!1},B:{type:e.STRING,defaultValue:"yes"},C:{type:e.STRING,defaultValue:"no"}},func:"err"},{opcode:"letters",text:"letters [A] to [B] of [C]",blockType:s.REPORTER,arguments:{A:{type:e.NUMBER,defaultValue:2},B:{type:e.NUMBER,defaultValue:4},C:{type:e.STRING,defaultValue:"apple"}},func:"err"},{opcode:"starts",text:"[A] starts with [B]",blockType:s.BOOLEAN,arguments:{A:{type:e.STRING,defaultValue:"apple"},B:{type:e.STRING,defaultValue:"app"}},func:"err"},{opcode:"ends",text:"[A] ends with [B]",blockType:s.BOOLEAN,arguments:{A:{type:e.STRING,defaultValue:"apple"},B:{type:e.STRING,defaultValue:"app"}},func:"err"},{opcode:"replace",text:"replace [C] in [A] with [B]",blockType:s.REPORTER,arguments:{A:{type:e.STRING,defaultValue:"apple"},B:{type:e.STRING,defaultValue:"l"},C:{type:e.STRING,defaultValue:"p"}},func:"err"},{opcode:"replaceall",text:"replace all [C] in [A] with [B]",blockType:s.REPORTER,arguments:{A:{type:e.STRING,defaultValue:"apple"},B:{type:e.STRING,defaultValue:"l"},C:{type:e.STRING,defaultValue:"p"}},func:"err"},{opcode:"splitarray",text:"split [A] by [B] (array)",blockType:s.REPORTER,arguments:{A:{type:e.STRING,defaultValue:"apple"},B:{type:e.STRING,defaultValue:"l"}},func:"err"},{opcode:"length",text:"[A].length",blockType:s.REPORTER,arguments:{A:{type:e.STRING,defaultValue:"apple"}},func:"err"},{opcode:"item",text:"item [C] of [A] split by [B]",blockType:s.REPORTER,arguments:{A:{type:e.STRING,defaultValue:"apple"},B:{type:e.STRING,defaultValue:"l"},C:{type:e.NUMBER,defaultValue:1}},func:"err"},{opcode:"squarebrackets",text:"[A] item [B]",blockType:s.REPORTER,arguments:{A:{type:e.STRING,defaultValue:"apple"},B:{type:e.STRING,defaultValue:"1"}},func:"err"},{opcode:"jsonparse",text:"JSON.parse [A]",blockType:s.REPORTER,arguments:{A:{type:e.STRING,defaultValue:'{"a": 1}'}},func:"err"},{opcode:"jsonstringify",text:"JSON.stringify [A]",blockType:s.REPORTER,arguments:{A:{type:e.STRING,defaultValue:""}},func:"err"},{opcode:"tostring",text:"to string [A]",blockType:s.REPORTER,arguments:{A:{type:e.STRING,defaultValue:"1"}},func:"err"},{opcode:"patchreporter",text:"patch [A]",blockType:s.REPORTER,arguments:{A:{type:e.STRING,defaultValue:"1 * 3"}},allowDropAnywhere:!0,func:"err"},{opcode:"patchreporter2",text:"patch [A][B]",blockType:s.REPORTER,arguments:{A:{type:e.STRING,defaultValue:"1 * "},B:{type:e.STRING,defaultValue:"3"}},allowDropAnywhere:!0,func:"err"},{opcode:"patchreporter3",text:"patch [A][B][C]",blockType:s.REPORTER,arguments:{A:{type:e.STRING,defaultValue:"1"},B:{type:e.STRING,defaultValue:"*"},C:{type:e.STRING,defaultValue:"3"}},allowDropAnywhere:!0,func:"err"},{opcode:"patchboolean",text:"patch [A]",blockType:s.BOOLEAN,arguments:{A:{type:e.STRING,defaultValue:"1 == 6"}},func:"err"},{opcode:"patchcommand",text:"patch [A]",blockType:s.COMMAND,arguments:{A:{type:e.STRING,defaultValue:"1 + 5"}},func:"err"},{opcode:"patchcommand2",text:"patch [A][B]",blockType:s.COMMAND,arguments:{A:{type:e.STRING,defaultValue:"5 +"},B:{type:e.STRING,defaultValue:"5"}},func:"err"},{opcode:"patchcommand3",text:"patch [A][B][C]",blockType:s.COMMAND,arguments:{A:{type:e.STRING,defaultValue:"console.log("},B:{type:e.STRING,defaultValue:'"hello world"'},C:{type:e.STRING,defaultValue:")"}},func:"err"},{opcode:"true",text:"true",blockType:s.BOOLEAN,disableMonitor:!0,func:"err"},{opcode:"false",text:"false",blockType:s.BOOLEAN,disableMonitor:!0,func:"err"},{opcode:"performancenow",text:"performance.now()",blockType:s.REPORTER,disableMonitor:!0,func:"err"},{opcode:"stagewidth",text:"Stage Width",blockType:s.REPORTER,disableMonitor:!0,func:"err"},{opcode:"stageheight",text:"Stage Height",blockType:s.REPORTER,disableMonitor:!0,func:"err"},{opcode:"newline",text:"New Line",blockType:s.REPORTER,disableMonitor:!0,func:"err"}]}}err(t){return"huh, weird error :shrug:"}constructor(){this.doPatch=function(t){t.extensions.unsandboxed=!0,t.extensions.sandboxed=!1,t.extensions.premature=!1;const s=t.vm;s.securityManager.__proto__.getSandboxMode=async()=>"unsandboxed",s.securityManager.getSandboxMode=async()=>"unsandboxed",s.extensionManager.securityManager=s.securityManager},this.doPatch(t),t.vm.on("CREATE_UNSANDBOXED_EXTENSION_API",(t=>{this.doPatch(t)})),console.log("Loaded Mist's utils! (v5.9)")}})}(Scratch);
